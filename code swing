Εδώ δίνεται ο κώδικας για τη λειτουργία του σερβοκινητήρα της κούνιας και του κινητήρα που πρειστρέφει το καρουζέλ.
Αρχικά η θέση του σερβοκινητήρα είναι σε τέτοια θέση ώστε να είναι οριζόντια η κούνια. Ανάλογα πως τον τοποθετήσαμε. 
Ο διακόπτης συνδέεται με μια αντίσταση και ένα led ώστε όταν είναι κλειστός (θέση 1) τότε να διαρρέει ρεύμα το led, να ανάβει. 
Συνδέουμε λοιπόν το led με μια ψηφιακή ακίδα και ελέγχουμε διαρκώς αν διαρέεται από ρεύμα, αν η κατάστασή της είναι high.
Αν ισχύει, τότε αρχίζει να κουνιέται, ο σερβοκινητήρας δηλαδή να αλλάζει γωνία ανά μισό δευτερόλεπτο. Η αλλαγή της γωνίας είναι περίπου
στις 20-30 μοίρες (+-10, +-15) αλλά αυτό μπορεί να αλλάξει. Όταν ο διακόπτης πάει στη θέση 0, δηλαδή έχουμε ανοιχτό κύκλωμα και 
το led δεν το διαρρέει ρεύμα, είναι σβηστό, τότε ο σερβοκινητήρας έρχεται στην αρχική του θέση ώστε η κούνια να είναι οριζόντια και να 
μπορεί να ανέβει και να κατέβει ένα παιδί.
Σε αυτό το κύκλωμα συνδέσαμε και τον κινητήρα που περιστρέφει το καρουζέλ. Ο κινητήρας μπορεί να συνδεθεί με το ρεύμα και ο διακόπτης να 
τοποθετηθεί στην τροφοδοσία ώστε να δίνει ή όχι ρεύμα στον κινητήρα. Έτσι δεν χρειάζεται να ελέγχουμε κάτι για να τον λειτουργούμε ή
όχι. Έτσι τον συνδέσαμε σε αυτό το κύκλωμα και δεν χρησιμοποιήσαμε άλλο arduino.


#include <Servo.h>

Servo servo_pin_3;

void setup()
{
  pinMode( 8, INPUT);// το Pin που ελέγχει αν περνάει ρεύμα από το led, δηλαδή αν είναι ο διακόπτης στη θέση Ι ή 0
  pinMode( 5, OUTPUT); // η ακίδα για τον κινητήρα, τον συνδέσαμε σε μια αναλογική ώστε να περιστρέφεται με μικρότερη ταχύτητα
  servo_pin_3.attach(3);// η ακίδα όπου είναι ο σερβοκινητήρας
  pinMode( 5 , OUTPUT);
  servo_pin_3.write( 20 );// αρχικά σε θέση 20 μοιρών- οριζόντια θέση

  digitalWrite( 5 , LOW );// αρχικά ο κινητήρας σταματημένος

}

void loop()
{
  analogWrite(5 , 150); // περιστρέφεται ο κινητήρας με ταχύτητα 150 συνέχεια
  if (( ( digitalRead(8) ) == ( HIGH ) ))// αν περνάει ρεύμα από το led τότε
  {
    servo_pin_3.write( 0 );// αρχίζει να κινείται ο σερβοκινητήρας ανά μισό δευτερόλεπτο
    delay( 500 );
    servo_pin_3.write( 40 );
    delay( 500 );
  }
  else
  {
    servo_pin_3.write( 20 );// αλλιώς μένει στην αρχική γωνία στην οριζόντια θέση
  }
}

